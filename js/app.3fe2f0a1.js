(function(){var e={1039:function(e,i,t){"use strict";var o=t(9242),n=t(3396),s=t(7139);const r={class:"difficulty-buttons"};function a(e,i,t,o,a,l){const d=(0,n.up)("Game");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n._)("button",{class:(0,s.C_)({selected:l.isEasy}),onClick:i[0]||(i[0]=e=>l.changeDifficulty(a.DIFFICULTY.EASY))},"easy",2),(0,n._)("button",{class:(0,s.C_)({selected:l.isMedium}),onClick:i[1]||(i[1]=e=>l.changeDifficulty(a.DIFFICULTY.MEDIUM))},"medium",2),(0,n._)("button",{class:(0,s.C_)({selected:l.isHard}),onClick:i[2]||(i[2]=e=>l.changeDifficulty(a.DIFFICULTY.HARD))},"hard",2)]),(0,n.Wm)(d,{boardSize:a.boardSize,mines:a.mines},null,8,["boardSize","mines"])],64)}const l={class:"game"};function d(e,i,t,o,s,r){const a=(0,n.up)("Board"),d=(0,n.up)("Modal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n._)("button",{class:"start-button",onClick:i[0]||(i[0]=e=>r.restartGame())},"new game"),((0,n.wg)(),(0,n.j4)(a,{key:s.restart,boardSize:t.boardSize,mines:t.mines,minePositions:r.placeMines(),createBoard:r.createBoard,gameOver:s.gameOver,onGameOver:r.handleGameOver},null,8,["boardSize","mines","minePositions","createBoard","gameOver","onGameOver"]))]),s.showModal?((0,n.wg)(),(0,n.j4)(d,{key:0,modalData:s.modalData,onClose:r.closeModal},null,8,["modalData","onClose"])):(0,n.kq)("",!0)],64)}t(7658),t(2087);function c(e,i,t,o,r,a){const l=(0,n.up)("Header"),d=(0,n.up)("Row");return(0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)({board:!0,"game-over":t.gameOver})},[(0,n.Wm)(l,{flags:r.flags,icon:r.icon,seconds:r.seconds},null,8,["flags","icon","seconds"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.board,((e,i)=>((0,n.wg)(),(0,n.iD)("div",{key:i,class:"row"},[(0,n.Wm)(d,{row:e,gameOver:t.gameOver,onSelected:a.openTile,onFlagged:a.flagTile},null,8,["row","gameOver","onSelected","onFlagged"])])))),128))],2)}const u=["onClick","onContextmenu"],m={key:0},h={key:1},f={key:1};function g(e,i,t,r,a,l){const d=(0,n.up)("font-awesome-icon");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.row,((e,i)=>((0,n.wg)(),(0,n.iD)("div",{key:i,class:(0,s.C_)({tile:!0,empty:!e.hidden&&0==e.value,number:!e.hidden&&e.value>0,mine:!e.hidden&&e.isMine,flagged:e.flagged,"wrong-flag":t.gameOver&&e.flagged&&!e.isMine}),onClick:(0,o.iM)((i=>l.handleLeftClick(e)),["left"]),onContextmenu:(0,o.iM)((i=>l.handleRightClick(i,e)),["right"])},[e.hidden?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",m,[e.isMine?((0,n.wg)(),(0,n.j4)(d,{key:0,icon:["fas","bomb"]})):(0,n.kq)("",!0),e.value>0?((0,n.wg)(),(0,n.iD)("span",h,(0,s.zw)(e.value),1)):(0,n.kq)("",!0)])),e.flagged?((0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(d,{icon:["fas","flag"]})])):(0,n.kq)("",!0)],42,u)))),128)}var v={props:["row","gameOver"],emits:["selected","flagged"],methods:{handleLeftClick(e){this.$emit("selected",e.x,e.y)},handleRightClick(e,i){e.preventDefault(),this.$emit("flagged",i.x,i.y)}}},p=t(89);const b=(0,p.Z)(v,[["render",g]]);var y=b;const w={class:"header"},x={class:"flags"},M={class:"icon"},D=["src"],k={class:"timer"};function O(e,i,t,o,r,a){return(0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",x,(0,s.zw)(t.flags),1),(0,n._)("div",M,[(0,n._)("img",{src:a.gameIcon,alt:"Game icon",draggable:"false"},null,8,D)]),(0,n._)("div",k,(0,s.zw)(a.formattedTime),1)])}var z={props:["flags","icon","seconds"],computed:{gameIcon(){return t(7254)("./"+this.icon+".svg")},formattedTime(){return("000"+this.seconds).substr(-3)}}};const C=(0,p.Z)(z,[["render",O]]);var S=C,_={props:["boardSize","mines","minePositions","createBoard","gameOver"],emits:["game-over"],components:{Row:y,Header:S},data(){return{flags:this.mines,icon:"smiling",seconds:0,board:this.createBoard(this.boardSize,this.minePositions),playing:!1}},computed:{openedTiles(){let e=0;for(let i=0;i<this.boardSize;i++)for(let t=0;t<this.boardSize;t++)this.board[i][t].hidden||e++;return e}},watch:{playing(){const e=setInterval((()=>{this.seconds+=1,(999===this.seconds||this.gameOver)&&clearInterval(e)}),1e3)}},methods:{openTile(e,i){if(this.playing=!0,!this.board[e][i].flagged)return this.board[e][i].hidden=!1,this.board[e][i].isMine?(this.icon="dizzy",void this.$emit("game-over",!1,this.seconds)):this.openedTiles===this.boardSize**2-this.mines?(this.icon="cool",void this.$emit("game-over",!0,this.seconds)):void(0===this.board[e][i].value&&(this.board[e][i].hidden=!0,this.floodFill(e,i)))},flagTile(e,i){this.playing=!0,this.board[e][i].hidden&&(this.board[e][i].flagged||0!=this.flags)&&(this.flags+=this.board[e][i].flagged?1:-1,this.board[e][i].flagged=!this.board[e][i].flagged)},floodFill(e,i){if(e<0||e>=this.boardSize||i<0||i>=this.boardSize)return;if(!this.board[e][i].hidden||this.board[e][i].flagged)return;this.board[e][i].hidden=!1;const t=[{x:e-1,y:i-1},{x:e-1,y:i},{x:e-1,y:i+1},{x:e,y:i-1},{x:e,y:i+1},{x:e+1,y:i-1},{x:e+1,y:i},{x:e+1,y:i+1}],o=(e,i)=>this.minePositions.some((t=>t.x==e&&t.y==i)),n=t.some((e=>o(e.x,e.y)));n||t.forEach((({x:e,y:i})=>{this.floodFill(e,i)}))}}};const T=(0,p.Z)(_,[["render",c]]);var I=T;const F={class:"modal"};function Y(e,i,t,r,a,l){return(0,n.wg)(),(0,n.iD)("div",{class:"backdrop",onClick:i[0]||(i[0]=(0,o.iM)(((...e)=>l.closeModal&&l.closeModal(...e)),["self"]))},[(0,n._)("div",F,[(0,n._)("h2",null,(0,s.zw)(a.title),1),(0,n._)("p",null,(0,s.zw)(a.message),1),(0,n._)("p",null,"Your time: "+(0,s.zw)(l.correctTime)+" seconds",1)])])}var E={props:["modalData"],data(){return{title:"",message:""}},computed:{correctTime(){return this.modalData.seconds+1}},methods:{closeModal(){this.$emit("close")}},mounted(){this.modalData.win?(this.title="You Win!",this.message="Congratulations! You cleared the game."):(this.title="You Lose!",this.message="Better luck next time.")}};const j=(0,p.Z)(E,[["render",Y]]);var G=j,H={props:["boardSize","mines"],components:{Board:I,Modal:G},data(){return{restart:!1,gameOver:!1,showModal:!1,modalData:{win:!1,seconds:0}}},methods:{placeMines(){const e=[],i=()=>Math.floor(Math.random()*this.boardSize);while(e.length<this.mines){const t={x:i(),y:i()};e.some((e=>e.x==t.x&&e.y==t.y))||e.push(t)}return e},createBoard(e,i){const t=Array(e).fill().map((()=>Array(e))),o=(e,t)=>i.some((i=>i.x==e&&i.y==t)),n=(i,o)=>{[{x:i-1,y:o-1},{x:i-1,y:o},{x:i-1,y:o+1},{x:i,y:o-1},{x:i,y:o+1},{x:i+1,y:o-1},{x:i+1,y:o},{x:i+1,y:o+1}].forEach((({x:i,y:o})=>{i<0||i>=e||o<0||o>=e||t[i][o].isMine||t[i][o].value++}))};for(let s=0;s<e;s++)for(let i=0;i<e;i++)t[s][i]={x:s,y:i,isMine:o(s,i),value:0,hidden:!0,flagged:!1};for(let s=0;s<e;s++)for(let i=0;i<e;i++)t[s][i].isMine&&(t[s][i].value=null,n(s,i));return t},handleGameOver(e,i){this.gameOver=!0,setTimeout((()=>this.showModal=!0),1e3),this.modalData={win:e,seconds:i}},restartGame(){this.gameOver=!1,this.restart=!this.restart},closeModal(){this.showModal=!1}}};const U=(0,p.Z)(H,[["render",d]]);var B=U;const L={EASY:[8,10],MEDIUM:[16,40],HARD:[24,99]};var A={name:"App",components:{Game:B},data(){return{DIFFICULTY:L,boardSize:L.MEDIUM[0],mines:L.MEDIUM[1]}},computed:{isEasy(){return 8===this.boardSize},isMedium(){return 16===this.boardSize},isHard(){return 24===this.boardSize}},methods:{changeDifficulty(e){[this.boardSize,this.mines]=e}}};const P=(0,p.Z)(A,[["render",a]]);var R=P,Z=t(3494),q=t(7749),W=t(8539);Z.vI.add(W.Yme,W.RrC),(0,o.ri)(R).component("font-awesome-icon",q.GN).mount("#app")},7254:function(e,i,t){var o={"./cool.svg":5175,"./dizzy.svg":3914,"./smiling.svg":6346};function n(e){var i=s(e);return t(i)}function s(e){if(!t.o(o,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id=7254},5175:function(e,i,t){"use strict";e.exports=t.p+"img/cool.95aa1f1f.svg"},3914:function(e,i,t){"use strict";e.exports=t.p+"img/dizzy.f1112f89.svg"},6346:function(e,i,t){"use strict";e.exports=t.p+"img/smiling.87923e93.svg"}},i={};function t(o){var n=i[o];if(void 0!==n)return n.exports;var s=i[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(i,o,n,s){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],s=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var d=n();void 0!==d&&(i=d)}}return i}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,n,s]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){t.p="/Minesweeper/"}(),function(){var e={143:0};t.O.j=function(i){return 0===e[i]};var i=function(i,o){var n,s,r=o[0],a=o[1],l=o[2],d=0;if(r.some((function(i){return 0!==e[i]}))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(l)var c=l(t)}for(i&&i(o);d<r.length;d++)s=r[d],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},o=self["webpackChunkminesweeper"]=self["webpackChunkminesweeper"]||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(1039)}));o=t.O(o)})();
//# sourceMappingURL=app.3fe2f0a1.js.map